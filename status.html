<!DOCTYPE html>
<html class="theme-dark glass-subtle animations-enhanced shadows-deep">
  <!--
  Title: myTheme
  Author: HPY
  Credits: MikroTik, Mikhmon, Deviantart, Github
  Link: https://github.com/hpy-git/myTheme
  -->
<head>
<title id="title"></title>
$(if refresh-timeout)
<meta http-equiv="refresh" content="$(refresh-timeout-secs)">
$(endif)
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#5b7cfa" />
<meta http-equiv="Cache-Control" content="no-cache">
<link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="css/horizon.css">
<script language="javaScript">

$(if advert-pending == 'yes')
    var popup = '';
    function focusAdvert() {
	if (window.focus) popup.focus();
    }
    function openAdvert() {
	popup = open('$(link-advert)', 'hotspot_advert', '');
	setTimeout("focusAdvert()", 1000);
    }
$(endif)
    function openLogout() {
	if (window.name != 'hotspot_status') return true;
        open('$(link-logout)', 'hotspot_logout', 'toolbar=0,location=0,directories=0,status=0,menubars=0,resizable=1,width=280,height=250');
	window.close();
	return false;
    }

</script>
</head>
<body $(if advert-pending == 'yes')	onLoad="openAdvert()" $(endif) >
<div class="main">
  <div class="container" style="max-width: 600px; margin: 0 auto;">
  $(if login-by == 'trial')
	<div style="margin-top: var(--space-4); text-align: center;"><h3 style="color: var(--text-0);">Welcome</h3><i style="font-size: 48px;" class="icon icon-user-circle-o">&#xf2be;</i> <h3 style="color: var(--text-0);">Trial User</h3></div><br>
$(elif login-by != 'mac')
	<div style="margin-top: var(--space-4); text-align: center;"><h3 style="color: var(--text-0);">Welcome</h3><i style="font-size: 48px;" class="icon icon-user-circle-o">&#xf2be;</i> <h3 id="user" style="color: var(--text-0);">$(username)</h3></div><br>
$(endif)
<form action="$(link-logout)" name="logout" onSubmit="return openLogout()">

<!-- IP Address & MAC Address Container -->
<div style="background: linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.12) 100%); border: 1.5px solid rgba(255,255,255,0.5); border-radius: var(--radius-sm); padding: var(--space-3); margin-bottom: var(--space-2); box-shadow: 0 12px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.3); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);">
<table class="table">
	<tr><td align="right" style="width: 40%;">IP Address <i class="icon icon-sitemap">&#xf0e8;</i> </td><td>$(ip)</td></tr>
    <tr><td align="right">MAC Address <i class="icon icon-barcode">&#xe80a;</i> </td><td>$(mac)</td></tr>
</table>
</div>

<!-- Upload & Download Container -->
<div style="background: linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.12) 100%); border: 1.5px solid rgba(255,255,255,0.5); border-radius: var(--radius-sm); padding: var(--space-3); margin-bottom: var(--space-2); box-shadow: 0 12px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.3); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);">
<table class="table">
    <tr><td align="right" style="width: 40%;">Upload <i class="icon icon-upload">&#xe808;</i> </td><td>$(bytes-in-nice)</td></tr>
    <tr><td align="right">Download <i class="icon icon-download">&#xe809;</i> </td><td>$(bytes-out-nice)</td></tr>
</table>
</div>

<!-- Connected Container -->
<div style="background: linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.12) 100%); border: 1.5px solid rgba(255,255,255,0.5); border-radius: var(--radius-sm); padding: var(--space-3); margin-bottom: var(--space-2); box-shadow: 0 12px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.3); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);">
<table class="table">
	<tr><td align="right" style="width: 40%;">Connected <i class="icon icon-exchange">&#xf0ec;</i> </td><td>$(uptime)</td></tr>
</table>
</div>

<!-- Bytes Left & Time Left Container -->
<div style="background: linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.12) 100%); border: 1.5px solid rgba(255,255,255,0.5); border-radius: var(--radius-sm); padding: var(--space-3); margin-bottom: var(--space-2); box-shadow: 0 12px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.3); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);">
<table class="table">
$(if remain-bytes-total)
    <tr><td align="right" style="width: 40%;">Bytes Left <i class="icon icon-hourglass-2">&#xf252;</i> </td><td>$(remain-bytes-total-nice)</td></tr>
$(endif)
$(if session-time-left)
    <tr><td align="right">Time Left <i class="icon icon-clock">&#xe805;</i> </td><td>$(session-time-left)</td></tr>
$(endif)
</table>
</div>

<!-- Status & Refresh Container -->
<div style="background: linear-gradient(135deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.12) 100%); border: 1.5px solid rgba(255,255,255,0.5); border-radius: var(--radius-sm); padding: var(--space-3); margin-bottom: var(--space-2); box-shadow: 0 12px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.3); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);">
<table class="table">
$(if blocked == 'yes')
	<tr><td align="right" style="width: 40%;">Status <i class="icon icon-check">&#xe807;</i> </td><td><div style="color: #FF8080">
<a href="$(link-advert)" target="hotspot_advert">advertisement</a> required</div></td></tr>
$(elif refresh-timeout)
	<tr><td align="right" style="width: 40%;">Refresh <i class="icon icon-arrows-cw">&#xe800;</i> </td><td>$(refresh-timeout)</td></tr>
$(endif)
</table>
</div>

$(if login-by-mac != 'yes')
<!-- Logout Button Container -->
<div style="margin-top: var(--space-3);">
<button class="button2" type="submit"><i class="icon icon-logout">&#xe804;</i> Logout</button>
</div>
$(endif)
</form>
</div>
</div>
<script type="text/javascript">
    //document.getElementById('title').innerHTML = window.location.hostname + " > status";
    var titleElement = document.getElementById('title');
    if (titleElement) {
        titleElement.innerHTML = "$(hostname) &gt; status";
    }
//get vaidity
    var usr = document.getElementById('user').innerHTML
    var url = "http://10.0.0.1/status/status.php?name="; // http://ip-server-mikhmon/mikhmonv2/status/status.php?name=
    var SessionName = "cloudguesthotspot"
    var getvalid = url+usr+"&session="+SessionName
    document.getElementById('exp').src = getvalid;
        
</script>

<!-- Audio Files-->
<audio id="clickSound" src="audio/sfx/pop-reverb-423718.mp3" preload="auto" style="display: none;"></audio>
<audio id="bgAudio" src="audio/bgm/tlou-comp.mp3" preload="auto" loop autoplay style="display:none"></audio>

<script type="text/javascript" >
  // ----- Click sound handler -----
  const clickSound = document.getElementById('clickSound');
  document.querySelectorAll('button, a').forEach(el => {
    el.addEventListener('click', () => {
      if (clickSound) {
        clickSound.currentTime = 0; // Reset to start
        clickSound.play().catch(()=>{}); // Catch autoplay issues
      }
    });
  });

  // ----- Background music handler -----
  const bgAudio = document.getElementById('bgAudio');
  if (bgAudio) {
    bgAudio.volume = 0.25; // subtle background volume
    const tryPlayBG = () => {
      const p = bgAudio.play();
      if (p && typeof p.catch === 'function') {
        p.catch(() => {
          // Autoplay blocked, play on first user interaction
          const resume = () => {
            bgAudio.play().catch(()=>{});
            window.removeEventListener('pointerdown', resume, { once: true });
          };
          window.addEventListener('pointerdown', resume, { once: true });
        });
      }
    };

    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      tryPlayBG();
    } else {
      document.addEventListener('DOMContentLoaded', tryPlayBG, { once: true });
    }
  }
</script>
</body>
</html>
